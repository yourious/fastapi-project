{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'AuthComponent',\n  data() {\n    return {\n      registerName: '',\n      registerAge: '',\n      loginName: '',\n      message: ''\n    };\n  },\n  methods: {\n    async register() {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/users/', {\n          name: this.registerName,\n          age: Number(this.registerAge)\n        });\n        console.log('Register success: ' + response.data);\n      } catch (error) {\n        console.error('Registration failed:', error);\n      }\n    },\n    async login() {\n      try {\n        await axios.get(`http://127.0.0.1:8000/users/${this.loginName}`);\n        this.message = 'You are authorized';\n        this.$emit('handleAuth');\n      } catch (error) {\n        // Перевіряємо, чи помилка пов'язана з відповіддю сервера та має статус 404\n        if (error.response && error.response.status === 404) {\n          // Користувача не знайдено\n          this.message = 'This user does not exist in the system. Try again or register yourself.';\n        } else if (error.response) {\n          // Якщо є інші коди помилок від сервера, окрім 404\n          this.message = `Server error: ${error.response.status}. Please try again later.`;\n        } else {\n          // Якщо це помилка мережі або інша непередбачена помилка\n          this.message = 'Network error. Please check your connection and try again.';\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","registerName","registerAge","loginName","message","methods","register","response","post","age","Number","console","log","error","login","get","$emit","status"],"sources":["/home/yurii/PROJECTS/fastapi_project/public/src/components/AuthComponent.vue"],"sourcesContent":["<!-- <template>\n    <div>\n        <h2>Sign up</h2>\n        <form @submit.prevent=\"register\">\n            <div>\n                <label for=\"registerName\">Name:</label>\n                <input type=\"text\" id=\"registerName\" v-model=\"registerName\">\n            </div>\n            <div>\n                <label for=\"registerAge\">Age:</label>\n                <input type=\"text\" id=\"registerAge\" v-model=\"registerAge\">\n            </div>\n            <button type=\"submit\">Sign up</button>\n        </form>\n\n        <h2>Sign in</h2>\n        <form @submit.prevent=\"login\">\n            <div>\n                <label for=\"loginName\">Name:</label>\n                <input type=\"text\" id=\"loginName\" v-model=\"loginName\">\n            </div>\n            <button type=\"submit\">Sign in</button>\n        </form>\n    </div>\n</template> -->\n\n<template>\n    <div>\n        <h2>Sign up</h2>\n        <form @submit.prevent=\"register\">\n            <div>\n                <label for=\"registerName\">Name:</label>\n                <input type=\"text\" id=\"registerName\" v-model=\"registerName\">\n            </div>\n            <div>\n                <label for=\"registerAge\">Age:</label>\n                <input type=\"text\" id=\"registerAge\" v-model=\"registerAge\">\n            </div>\n            <button type=\"submit\">Sign up</button>\n        </form>\n\n        <h2>Sign in</h2>\n        <form @submit.prevent=\"login\">\n            <div>\n                <input v-model=\"loginName\" placeholder=\"Enter your name\" />\n                <button @click=\"login\">Login</button>\n                <p>{{ message }}</p> <!-- Message displayed here -->\n            </div>\n        </form>\n    </div>\n</template>\n    \n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'AuthComponent',\n\n    data() {\n        return {\n            registerName: '',\n            registerAge: '',\n            loginName: '',\n            message: '',\n        };\n    },\n    methods: {\n        async register() {\n            try {\n                const response = await axios.post('http://127.0.0.1:8000/users/', {\n                    name: this.registerName,\n                    age: Number(this.registerAge),\n                });\n\n                console.log('Register success: ' + response.data);             \n            } catch (error) {\n                console.error('Registration failed:', error);\n            }\n        },\n        async login() {\n            try {\n                await axios.get(`http://127.0.0.1:8000/users/${this.loginName}`);\n\n                this.message = 'You are authorized';\n                this.$emit('handleAuth');\n            } catch (error) {\n                // Перевіряємо, чи помилка пов'язана з відповіддю сервера та має статус 404\n                if (error.response && error.response.status === 404) {\n                // Користувача не знайдено\n                    this.message = 'This user does not exist in the system. Try again or register yourself.';\n                } else if (error.response) {\n                // Якщо є інші коди помилок від сервера, окрім 404\n                    this.message = `Server error: ${error.response.status}. Please try again later.`;\n                } else {\n                // Якщо це помилка мережі або інша непередбачена помилка\n                    this.message = 'Network error. Please check your connection and try again.';\n            }\n    } \n        },\n    },\n};\n</script>\n    \n<style>\n\n</style>\n    "],"mappings":"AAqDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,eAAe;EAErBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,QAAQA,CAAA,EAAG;MACb,IAAI;QACA,MAAMC,QAAO,GAAI,MAAMT,KAAK,CAACU,IAAI,CAAC,8BAA8B,EAAE;UAC9DT,IAAI,EAAE,IAAI,CAACE,YAAY;UACvBQ,GAAG,EAAEC,MAAM,CAAC,IAAI,CAACR,WAAW;QAChC,CAAC,CAAC;QAEFS,OAAO,CAACC,GAAG,CAAC,oBAAmB,GAAIL,QAAQ,CAACP,IAAI,CAAC;MACrD,EAAE,OAAOa,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAChD;IACJ,CAAC;IACD,MAAMC,KAAKA,CAAA,EAAG;MACV,IAAI;QACA,MAAMhB,KAAK,CAACiB,GAAG,CAAC,+BAA+B,IAAI,CAACZ,SAAS,EAAE,CAAC;QAEhE,IAAI,CAACC,OAAM,GAAI,oBAAoB;QACnC,IAAI,CAACY,KAAK,CAAC,YAAY,CAAC;MAC5B,EAAE,OAAOH,KAAK,EAAE;QACZ;QACA,IAAIA,KAAK,CAACN,QAAO,IAAKM,KAAK,CAACN,QAAQ,CAACU,MAAK,KAAM,GAAG,EAAE;UACrD;UACI,IAAI,CAACb,OAAM,GAAI,yEAAyE;QAC5F,OAAO,IAAIS,KAAK,CAACN,QAAQ,EAAE;UAC3B;UACI,IAAI,CAACH,OAAM,GAAI,iBAAiBS,KAAK,CAACN,QAAQ,CAACU,MAAM,2BAA2B;QACpF,OAAO;UACP;UACI,IAAI,CAACb,OAAM,GAAI,4DAA4D;QACnF;MACR;IACI;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}